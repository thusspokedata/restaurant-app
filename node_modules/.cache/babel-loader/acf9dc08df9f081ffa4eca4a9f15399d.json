{"ast":null,"code":"var _jsxFileName = \"/Users/kilo/Ironhack-web-dev-final-project/client/src/pages/Orders.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Table from \"react-bootstrap/Table\";\nimport MenuItem from \"../components/MenuItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Orders() {\n  _s();\n\n  const [menus, setMenus] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(undefined);\n  const [finalPrice, setFinalPrice] = useState(0);\n  useEffect(() => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios.get(\"/api/products\", {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(response => {\n      console.log(response.data);\n      setMenus(response.data);\n    }).catch(err => {\n      const errorDescription = err.response.data.message;\n      setErrorMessage(errorDescription);\n    });\n  }, []);\n\n  function calcFinalPrice(subtotal) {\n    setFinalPrice(finalPrice + subtotal);\n  }\n\n  const optionsDrinks = menus.map((item, i) => {\n    if (item.category === \"drink\") {\n      return /*#__PURE__*/_jsxDEV(MenuItem, {\n        calcFinalPrice: calcFinalPrice,\n        item: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 14\n      }, this);\n    }\n  });\n  const optionsDessert = menus.map((item, i) => {\n    if (item.category === \"dessert\") {\n      return /*#__PURE__*/_jsxDEV(MenuItem, {\n        calcFinalPrice: calcFinalPrice,\n        item: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 14\n      }, this);\n    }\n  });\n  const optionsMeat = menus.map((item, i) => {\n    if (item.category === \"dish\") {\n      return /*#__PURE__*/_jsxDEV(MenuItem, {\n        calcFinalPrice: calcFinalPrice,\n        item: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 14\n      }, this);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container col-12 col-sm-7 col-lg-8\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        name: \"tblform\",\n        children: [/*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          responsive: true,\n          size: \"sm\",\n          children: /*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"\",\n                children: \"Menu \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"text-end\",\n                children: \"Quantity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"\",\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          responsive: true,\n          size: \"sm\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: optionsMeat\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          responsive: true,\n          variant: \"dark\",\n          size: \"sm\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: optionsDrinks\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          responsive: true,\n          size: \"sm\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: optionsDessert\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          responsive: true,\n          size: \"sm\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"submit\",\n                  className: \"btn btn-success\",\n                  value: \"Send Bill\" // onclick=\"createBill()\"\n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"btn\",\n                  value: `Total: $${finalPrice}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Orders, \"eRlEun9IilkFb9gOKr9vNitvrWY=\");\n\n_c = Orders;\nexport default Orders;\n\nvar _c;\n\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"names":["React","useState","useContext","useEffect","axios","Table","MenuItem","Orders","menus","setMenus","errorMessage","setErrorMessage","undefined","finalPrice","setFinalPrice","storedToken","localStorage","getItem","get","headers","Authorization","then","response","console","log","data","catch","err","errorDescription","message","calcFinalPrice","subtotal","optionsDrinks","map","item","i","category","optionsDessert","optionsMeat"],"sources":["/Users/kilo/Ironhack-web-dev-final-project/client/src/pages/Orders.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\n\nimport Table from \"react-bootstrap/Table\";\nimport MenuItem from \"../components/MenuItem\";\n\nfunction Orders() {\n  const [menus, setMenus] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(undefined);\n  const [finalPrice, setFinalPrice] = useState(0);\n\n  useEffect(() => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios\n      .get(\"/api/products\", {\n        headers: { Authorization: `Bearer ${storedToken}` },\n      })\n      .then((response) => {\n        console.log(response.data);\n        setMenus(response.data);\n      })\n      .catch((err) => {\n        const errorDescription = err.response.data.message;\n        setErrorMessage(errorDescription);\n      });\n  }, []);\n\n  function calcFinalPrice(subtotal) {\n    setFinalPrice(finalPrice + subtotal);\n  }\n\n  const optionsDrinks = menus.map((item, i) => {\n    if (item.category === \"drink\") {\n      return <MenuItem calcFinalPrice={calcFinalPrice} item={item} />;\n    }\n  });\n\n  const optionsDessert = menus.map((item, i) => {\n    if (item.category === \"dessert\") {\n      return <MenuItem calcFinalPrice={calcFinalPrice} item={item} />;\n    }\n  });\n\n  const optionsMeat = menus.map((item, i) => {\n    if (item.category === \"dish\") {\n      return <MenuItem calcFinalPrice={calcFinalPrice} item={item} />;\n    }\n  });\n\n  return (\n    <>\n      <div className=\"container col-12 col-sm-7 col-lg-8\">\n        <form name=\"tblform\">\n          <Table striped responsive size=\"sm\">\n            <thead>\n              <tr>\n                <th className=\"\">Menu </th>\n                <th className=\"text-end\">Quantity</th>\n                <th className=\"\">Price</th>\n              </tr>\n            </thead>\n          </Table>\n          <Table striped responsive size=\"sm\">\n            <tbody>\n              <tr>{optionsMeat}</tr>\n            </tbody>\n          </Table>\n          <Table striped responsive variant=\"dark\" size=\"sm\">\n            <tbody>\n              <tr>{optionsDrinks}</tr>\n            </tbody>\n          </Table>\n          <Table striped responsive size=\"sm\">\n            <tbody>\n              <tr>{optionsDessert}</tr>\n            </tbody>\n          </Table>\n          <Table striped responsive size=\"sm\">\n            <tbody>\n              <tr>\n                <td></td>\n                <td></td>\n                <td>\n                  <input\n                    type=\"submit\"\n                    className=\"btn btn-success\"\n                    value=\"Send Bill\"\n                    // onclick=\"createBill()\"\n                  />\n                </td>\n                <td>\n                  <input\n                    type=\"text\"\n                    className=\"btn\"\n                    value={`Total: $${finalPrice}`}\n                  />\n                </td>\n              </tr>\n            </tbody>\n          </Table>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default Orders;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}