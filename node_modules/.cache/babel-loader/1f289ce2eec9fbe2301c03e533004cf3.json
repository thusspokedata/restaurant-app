{"ast":null,"code":"var _jsxFileName = \"/Users/kilo/Ironhack-web-dev-final-project/client/src/components/Tables.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport tableopen from \"../assets/open.png\";\nimport tableclose from \"../assets/close.png\";\nimport ClickablePicture from \"./ClickablePicture\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const [restaurants, setRestaurants] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(undefined);\n  useEffect(() => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios.get(\"/api/restaurants\", {\n      headers: {\n        Authorization: `Bearer ${storedToken}`\n      }\n    }).then(response => {\n      console.log(response.data);\n      setRestaurants(response.data);\n    }).catch(err => {\n      const errorDescription = err.response.data.message;\n      setErrorMessage(errorDescription);\n    });\n  }, []); /// creating figure tables\n\n  let t = [];\n\n  if (restaurants[0]) {\n    for (let i = 0; i < restaurants[0].tables; i++) {\n      t.push(i);\n    }\n  }\n\n  const figures = t.map((table, i) => {\n    return /*#__PURE__*/_jsxDEV(\"a\", {\n      href: `/${i}`,\n      children: /*#__PURE__*/_jsxDEV(\"figure\", {\n        className: \"figure m-2 m-sm-3 m-lg-4 col-5 col-sm-3 col-lg-2\",\n        children: /*#__PURE__*/_jsxDEV(ClickablePicture, {\n          img: tableopen,\n          imgClicked: tableclose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, `${i}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card mt-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-content p-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\",\n        children: figures\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"xSAg8sbpNF0Lnl+YLpTRpJYsnAA=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useContext","useEffect","tableopen","tableclose","ClickablePicture","axios","Home","restaurants","setRestaurants","errorMessage","setErrorMessage","undefined","storedToken","localStorage","getItem","get","headers","Authorization","then","response","console","log","data","catch","err","errorDescription","message","t","i","tables","push","figures","map","table"],"sources":["/Users/kilo/Ironhack-web-dev-final-project/client/src/components/Tables.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport tableopen from \"../assets/open.png\";\nimport tableclose from \"../assets/close.png\";\nimport ClickablePicture from \"./ClickablePicture\";\nimport axios from \"axios\";\n\nfunction Home() {\n  const [restaurants, setRestaurants] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(undefined);\n\n  useEffect(() => {\n    const storedToken = localStorage.getItem(\"authToken\");\n    axios\n      .get(\"/api/restaurants\", {\n        headers: { Authorization: `Bearer ${storedToken}` },\n      })\n      .then((response) => {\n        console.log(response.data);\n        setRestaurants(response.data);\n      })\n      .catch((err) => {\n        const errorDescription = err.response.data.message;\n        setErrorMessage(errorDescription);\n      });\n  }, []);\n\n  /// creating figure tables\n  let t = [];\n  if (restaurants[0]) {\n    for (let i = 0; i < restaurants[0].tables; i++) {\n      t.push(i);\n    }\n  }\n\n  const figures = t.map((table, i) => {\n    return (\n      <a href={`/${i}`} key={`${i}`}>\n        <figure className=\"figure m-2 m-sm-3 m-lg-4 col-5 col-sm-3 col-lg-2\">\n          <ClickablePicture img={tableopen} imgClicked={tableclose} />\n        </figure>\n      </a>\n    );\n  });\n\n  return (\n    <div className=\"card mt-5\">\n      <div className=\"card-content p-3\">\n        <div className=\"col-12\">{figures}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,IAAT,GAAgB;EAAA;;EACd,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAAC,EAAD,CAA9C;EACA,MAAM,CAACU,YAAD,EAAeC,eAAf,IAAkCX,QAAQ,CAACY,SAAD,CAAhD;EAEAV,SAAS,CAAC,MAAM;IACd,MAAMW,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAApB;IACAT,KAAK,CACFU,GADH,CACO,kBADP,EAC2B;MACvBC,OAAO,EAAE;QAAEC,aAAa,EAAG,UAASL,WAAY;MAAvC;IADc,CAD3B,EAIGM,IAJH,CAISC,QAAD,IAAc;MAClBC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;MACAd,cAAc,CAACW,QAAQ,CAACG,IAAV,CAAd;IACD,CAPH,EAQGC,KARH,CAQUC,GAAD,IAAS;MACd,MAAMC,gBAAgB,GAAGD,GAAG,CAACL,QAAJ,CAAaG,IAAb,CAAkBI,OAA3C;MACAhB,eAAe,CAACe,gBAAD,CAAf;IACD,CAXH;EAYD,CAdQ,EAcN,EAdM,CAAT,CAJc,CAoBd;;EACA,IAAIE,CAAC,GAAG,EAAR;;EACA,IAAIpB,WAAW,CAAC,CAAD,CAAf,EAAoB;IAClB,KAAK,IAAIqB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGrB,WAAW,CAAC,CAAD,CAAX,CAAesB,MAAnC,EAA2CD,CAAC,EAA5C,EAAgD;MAC9CD,CAAC,CAACG,IAAF,CAAOF,CAAP;IACD;EACF;;EAED,MAAMG,OAAO,GAAGJ,CAAC,CAACK,GAAF,CAAM,CAACC,KAAD,EAAQL,CAAR,KAAc;IAClC,oBACE;MAAG,IAAI,EAAG,IAAGA,CAAE,EAAf;MAAA,uBACE;QAAQ,SAAS,EAAC,kDAAlB;QAAA,uBACE,QAAC,gBAAD;UAAkB,GAAG,EAAE1B,SAAvB;UAAkC,UAAU,EAAEC;QAA9C;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA;IADF,GAAwB,GAAEyB,CAAE,EAA5B;MAAA;MAAA;MAAA;IAAA,QADF;EAOD,CARe,CAAhB;EAUA,oBACE;IAAK,SAAS,EAAC,WAAf;IAAA,uBACE;MAAK,SAAS,EAAC,kBAAf;MAAA,uBACE;QAAK,SAAS,EAAC,QAAf;QAAA,UAAyBG;MAAzB;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAOD;;GA7CQzB,I;;KAAAA,I;AA+CT,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}